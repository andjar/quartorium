/* Override root container constraints for editor pages */
.editor-page-container {
    background-color: #f5f5f5; /* Light gray background for the page */
    min-height: 100vh; /* Full viewport height */
    width: 100vw; /* Full width of parent */
    margin-left: calc(-50vw + 50%); /* Override any parent container constraints */
    margin-right: calc(-50vw + 50%); /* Override right side constraints too */
    position: relative; /* Establish positioning context */
    overflow-x: hidden; /* Prevent horizontal overflow */
  }
  
  /* A full-width header bar for controls, with a subtle bottom border */
  .editor-header {
    padding: 1rem 2rem;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky; /* Makes the header stick to the top as you scroll */
    top: 0;
    background-color: #fff;
    z-index: 10; /* Ensures it stays above the content */
    width: 100%; /* Full width */
    box-sizing: border-box; /* Include padding in width calculation */
  }
  
  /* The main content area that holds the editor */
  .editor-content-area {
    /* This creates our main column and the side margins */
    max-width: 800px; /* The ideal reading width for the text */
    width: 100%; /* Full width up to max-width */
    margin: 0 auto; /* This centers the column on the page */
    padding: 2rem 1.5rem; /* Vertical and horizontal padding */
    background-color: #fff; /* White background for the edit window */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow to separate from background */
    border-radius: 8px; /* Rounded corners */
    margin-top: 2rem; /* Space from header */
    margin-bottom: 2rem; /* Space from bottom */
    box-sizing: border-box; /* Include padding in width calculation */
  }

.editor-main-area {
  display: flex;
  flex-grow: 1;
  overflow: hidden; /* Prevents scrollbars from appearing due to flexbox */
  /* We want the main area to take up the available height below the header */
  height: calc(100vh - 60px); /* Adjust 60px if your header height is different */
}
  
  /* This is the direct parent of the TipTap editor content */
  /* We need to style it to look like a document */
  .ProseMirror {
    outline: none; /* Removes the default focus outline */
    line-height: 1.7;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    font-size: 18px; /* A slightly larger, more readable font size */
    color: #1a1a1a;
    text-align: left; /* Ensure all text in the editor defaults to left-aligned */
  }
  
  /* Add some spacing and styling for common elements inside the editor */
  .ProseMirror h1,
  .ProseMirror h2,
  .ProseMirror h3 {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    font-weight: 600;
    line-height: 1.3;
    margin-bottom: 0.5em;
  }
  
  .ProseMirror p {
    margin: 0;
  }
  
  .ProseMirror p + p {
    margin-top: 1.2em; /* Add space between paragraphs */
  }

.comment-mark {
  background-color: #ffe0b3; /* Light orange highlight for commented text */
}

  /* Style for the new citation node */
span[data-type="citation"],
span[data-type="figure-reference"] {
  background-color: #e0e0ff;
  border-radius: 3px;
  padding: 1px 4px;
  cursor: pointer;
  transition: background-color 0.2s;
}

span[data-type="citation"]:hover,
span[data-type="figure-reference"]:hover {
  background-color: #c0c0ff;
}

/* Ensure that captions within Quarto figures remain centered */
.quarto-block-output figure figcaption {
    text-align: center;
}

/* Adjust .editor-content-area to be a flex child */
.editor-content-area {
  flex-grow: 1; /* Takes up available space in .editor-main-area */
  /* The existing padding and max-width are fine, but remove margin-top/bottom
     as vertical spacing is now handled by .editor-main-area and header */
  padding: 2rem 1.5rem;
  background-color: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  overflow-y: auto; /* Allow editor content itself to scroll */
  /* max-width and margin: 0 auto will still center it if there's extra horizontal space */
  max-width: 800px;
  margin: 0 auto; /* Center if sidebar is not present or if space allows */
  height: 100%; /* Fill the height of .editor-main-area */
}