/* Override root container constraints for editor pages */
.editor-page-container {
    background-color: #f5f5f5; /* Light gray background for the page */
    min-height: 100vh; /* Full viewport height */
    width: 100vw; /* Full width of parent */
    margin-left: calc(-50vw + 50%); /* Override any parent container constraints */
    margin-right: calc(-50vw + 50%); /* Override right side constraints too */
    position: relative; /* Establish positioning context */
    overflow-x: hidden; /* Prevent horizontal overflow */
  }
  
  /* A full-width header bar for controls, with a subtle bottom border */
  .editor-header {
    padding: 1rem;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed; /* Fixed positioning to keep header always visible */
    top: 0;
    left: 0;
    right: 0;
    background-color: #fff;
    z-index: 1000; /* High z-index to ensure it stays above all content */
    width: 100%; /* Full width */
  }
  
  /* Style for the greeting message in the header */
  .editor-header p {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 500;
    color: #2c5aa0;
    background-color: #e8f4fd;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    border: 1px solid #b3d9ff;
  }
  
  /* The main content area that holds the editor */
  .editor-content-area {
    /* This creates our main column and the side margins */
    max-width: 800px; /* The ideal reading width for the text */
    width: 100%; /* Full width up to max-width */
    margin: 0 auto; /* This centers the column on the page */
    padding: 2rem 1.5rem; /* Vertical and horizontal padding */
    background-color: #fff; /* White background for the edit window */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow to separate from background */
    border-radius: 8px; /* Rounded corners */
    margin-top: 2rem; /* Space from header */
    margin-bottom: 2rem; /* Space from bottom */
    box-sizing: border-box; /* Include padding in width calculation */
    flex-grow: 1; /* Takes up available space in .editor-main-area */
    overflow-y: auto; /* Allow editor content itself to scroll */
    height: 100%; /* Fill the height of .editor-main-area */
    position: relative; /* Ensure positioning context for floating elements */
  }

.editor-main-area {
  display: flex;
  flex-grow: 1;
  overflow: hidden; /* Prevents scrollbars from appearing due to flexbox */
  /* Adjust height to account for fixed header */
  height: calc(100vh - 80px); /* Increased from 60px to account for header height */
  margin-top: 80px; /* Add top margin to push content below fixed header */
}
  
  /* This is the direct parent of the TipTap editor content */
  /* We need to style it to look like a document */
  .ProseMirror {
    outline: none; /* Removes the default focus outline */
    line-height: 1.7;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    font-size: 18px; /* A slightly larger, more readable font size */
    color: #1a1a1a;
    text-align: left; /* Ensure all text in the editor defaults to left-aligned */
  }
  
  /* Add some spacing and styling for common elements inside the editor */
  .ProseMirror h1,
  .ProseMirror h2,
  .ProseMirror h3 {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    font-weight: 600;
    line-height: 1.3;
    margin-bottom: 0.5em;
  }
  
  .ProseMirror p {
    margin: 0;
  }
  
  .ProseMirror p + p {
    margin-top: 1.2em; /* Add space between paragraphs */
  }

.comment-mark {
  background-color: #ffe0b3; /* Light orange highlight for commented text */
}

  /* Style for the new citation node */
span[data-type="citation"],
span[data-type="figure-reference"] {
  background-color: #e0e0ff;
  border-radius: 3px;
  padding: 1px 4px;
  cursor: pointer;
  transition: background-color 0.2s;
}

span[data-type="citation"]:hover,
span[data-type="figure-reference"]:hover {
  background-color: #c0c0ff;
}

/* Ensure that captions within Quarto figures remain centered */
.quarto-block-output figure figcaption {
    text-align: center;
}